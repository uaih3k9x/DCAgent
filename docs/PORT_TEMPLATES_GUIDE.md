# 端口组模板使用指南

## 概述

端口组模板系统允许您快速创建标准化的端口配置，无需手动设置每个端口的位置和编号。

## 可用模板

### 1. 8口千兆交换机
- **端口数量**：8
- **端口类型**：RJ45
- **布局**：单行 (1×8)
- **编号模式**：简单数字 (1, 2, 3...)
- **适用场景**：小型办公室、工作组交换机

### 2. 24口千兆交换机
- **端口数量**：24
- **端口类型**：RJ45
- **布局**：双行 (2×12)
- **编号模式**：简单数字
- **适用场景**：标准接入层交换机

### 3. 48口千兆交换机
- **端口数量**：48
- **端口类型**：RJ45
- **布局**：双行 (2×24)
- **编号模式**：简单数字
- **适用场景**：核心接入层交换机

### 4. 12口SFP光口
- **端口数量**：12
- **端口类型**：SFP
- **布局**：单行 (1×12)
- **编号模式**：简单数字
- **适用场景**：光纤接入模块、上行口

### 5. 24口SFP+光口
- **端口数量**：24
- **端口类型**：SFP+（万兆）
- **布局**：双行 (2×12)
- **编号模式**：简单数字
- **适用场景**：万兆光纤交换机、汇聚层

### 6. 32口QSFP28
- **端口数量**：32
- **端口类型**：QSFP28（100G）
- **布局**：双行 (2×16)
- **编号模式**：简单数字
- **适用场景**：数据中心核心交换机

### 7. Cisco 48+4 交换机
- **端口数量**：48
- **端口类型**：RJ45
- **布局**：双行 (2×24)
- **编号模式**：Cisco完整格式 (GigabitEthernet0/0/1)
- **适用场景**：Cisco Catalyst 系列交换机

### 8. 华为24口交换机
- **端口数量**：24
- **端口类型**：RJ45
- **布局**：双行 (2×12)
- **编号模式**：华为格式 (GE1/0/1)
- **适用场景**：华为 S 系列交换机

### 9. 服务器4口网卡
- **端口数量**：4
- **端口类型**：RJ45
- **布局**：单行 (1×4)
- **编号模式**：简单数字
- **适用场景**：服务器板载网卡

## 编号参数说明

### Slot（插槽号）
- **范围**：0-99
- **默认值**：1
- **用途**：标识设备的插槽位置
- **示例**：
  - 华为：GE**1**/0/1（Slot=1）
  - HP：**1**/1/1（Slot=1）

### Module（模块号）
- **范围**：0-99
- **默认值**：0
- **用途**：标识插槽中的模块
- **示例**：
  - Cisco：GigabitEthernet0/**0**/1（Module=0）
  - 华为：GE1/**0**/1（Module=0）

### Card（卡号）
- **范围**：0-99
- **默认值**：0
- **用途**：标识设备的板卡号（Cisco特有）
- **示例**：
  - Cisco：GigabitEthernet**0**/0/1（Card=0）

### 起始编号
- **范围**：0-999
- **默认值**：0
- **用途**：设置端口编号的起始值
- **示例**：
  - 起始编号=0：端口 1, 2, 3...
  - 起始编号=24：端口 25, 26, 27...（用于扩展卡）

## 编号格式对照表

| 模式 | 格式 | Slot | Module | Card | 端口号 | 完整示例 |
|------|------|------|--------|------|--------|---------|
| SIMPLE | {N} | - | - | - | 1-48 | 1, 2, 3... |
| WITH_PREFIX | {Prefix}-{N} | - | - | - | 1-48 | Port-1, Port-2... |
| CISCO_ETHERNET | GigabitEthernet{C}/{M}/{N} | - | ✓ | ✓ | 1-48 | GigabitEthernet0/0/1 |
| CISCO_SHORT | Gi{C}/{M}/{N} | - | ✓ | ✓ | 1-48 | Gi0/0/1 |
| HUAWEI | GE{S}/{M}/{N} | ✓ | ✓ | - | 1-24 | GE1/0/1 |
| HP | {S}/{M}/{N} | ✓ | ✓ | - | 1-48 | 1/1/1 |

## 使用流程

### 步骤 1：选择模板

1. 进入"端口可视化"页面
2. 从左侧选择设备和面板
3. 点击"应用模板"按钮
4. 在下拉列表中选择合适的模板

### 步骤 2：配置参数

根据您的设备类型和编号规范，设置以下参数：

#### Cisco 设备示例
```
模板：Cisco 48+4 交换机
Card: 0
Module: 0
起始编号: 0
结果：GigabitEthernet0/0/1 ~ GigabitEthernet0/0/48
```

#### 华为设备示例
```
模板：华为24口交换机
Slot: 1
Module: 0
起始编号: 0
结果：GE1/0/1 ~ GE1/0/24
```

#### 简单编号示例
```
模板：24口千兆交换机
所有参数使用默认值
结果：1 ~ 24
```

### 步骤 3：确认应用

点击"确定"按钮，系统将自动：
1. 创建所有端口
2. 设置正确的编号
3. 计算端口物理位置
4. 配置面板尺寸为标准 1U

## 常见问题

### Q1: 如何创建扩展模块的端口？

**A**: 使用"起始编号"参数。

例如：主模块已有 24 个端口（1-24），扩展模块从 25 开始：
- 选择相同模板
- 设置"起始编号"为 24
- 创建的端口将从 25 开始

### Q2: 端口编号格式不对怎么办？

**A**: 可以在创建后手动修改。

1. 点击端口进入编辑
2. 修改"端口号"字段
3. 系统会自动重新排序

### Q3: 模板没有我需要的设备怎么办？

**A**: 可以选择最接近的模板，然后手动调整：

1. 选择端口数量相近的模板
2. 应用后调整部分端口位置
3. 或使用"批量创建"功能自定义

### Q4: 如何为同一设备创建多个面板？

**A**: 为不同类型的接口创建多个面板。

例如：核心交换机
- 面板1：48个RJ45电口（使用 48口模板）
- 面板2：4个QSFP上行口（手动创建）

### Q5: 模板会覆盖现有端口吗？

**A**: 不会。

如果面板已有端口，模板会追加新端口。建议在空面板上使用模板。

### Q6: 可以自定义模板吗？

**A**: 当前版本暂不支持。

未来版本将支持：
- 保存自定义模板
- 导入导出模板
- 模板库共享

## 最佳实践

### 1. 规范化设备命名

建议采用统一的命名规范：
- 数据中心-机房-机柜-设备类型-编号
- 例如：DC1-MR01-CAB15-SW-01

### 2. 选择合适的编号模式

- **企业环境**：使用厂商特定格式（Cisco、华为等）
- **小型网络**：使用简单数字编号
- **混合环境**：使用带前缀编号（如 Port-1）

### 3. 保持一致性

- 同一厂商设备使用相同编号模式
- 同一机房的设备使用相同参数

### 4. 文档记录

在创建后：
- 为端口添加标签（如：连接到服务器A）
- 记录 VLAN 信息
- 标注特殊用途端口

### 5. 定期审计

- 检查端口状态是否准确
- 更新已占用端口的信息
- 移除废弃的端口配置

## 技术细节

### 端口尺寸（mm）

| 类型 | 宽度 | 高度 |
|------|------|------|
| RJ45 | 14 | 16 |
| SFP | 13.5 | 13.5 |
| SFP+ | 13.5 | 13.5 |
| QSFP | 18 | 18 |
| QSFP28 | 18 | 18 |

### 面板尺寸

- **宽度**：482.6mm（标准 19 英寸机架）
- **高度**：44.45mm（标准 1U）

### 间距配置

- **RJ45 水平间距**：18mm
- **SFP 水平间距**：16mm
- **QSFP 水平间距**：20mm
- **垂直间距**：20mm

这些参数经过精心调整，确保符合真实设备的物理布局。

## 相关资源

- [端口可视化管理功能说明](./PORT_VISUALIZATION.md)
- [API 文档](../api/README.md)

---

> 如有问题或建议，请联系开发团队！
